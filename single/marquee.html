<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
<meta charset="utf-8" />
<meta name="renderer" content="webkit">
<meta http-equiv="Content-Type" content="text/html" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<meta name="theme-color" content="#FFFFFF" />
<meta name="format-detection" content="telephone=no" />
<meta name="wap-font-scale" content="no">
<title>首页</title>
<meta name="keywords" content="张永恒, foreverZ, 案例库" />
<meta name="description" content="" />
<!--[if lt IE 9]><script>alert('您的浏览器版本过低，请更新本版本浏览器，或更换为诸如谷歌浏览器的现代浏览器')</script><![endif]-->
<style>
*, *:before， *:after {box-sizing: border-box;}
.body, .page, .bg {
  position: absolute;
  top: 0; bottom: 0;
  left: 0; right: 0;
}
.body {
  background: #f7f7f7;
  display: flex;
  flex-direction: column;
  border: 1px solid #dedede;
  max-width: 768px;
  overflow: hidden;
  margin: auto;
}
.main {
  flex-grow: 1;
  overflow-x: hidden;
  overflow-y: auto;
  transform: translate3d(0,0,0);
  -webkit-overflow-scrolling: touch;
}
.header, .footer {
  position: relative;
  z-index: 1;
  flex-shrink: 0;
}

.marquee { display: flex; overflow: hidden; }
.marquee > .wrap { display: flex; animation: move 5s infinite linear }
.marquee > .wrap > .item { padding: 0 10px; }
@keyframes move {
  100% { transform: translateX(-100%); }
}
</style>
</head>

<body>
<div class="body">
  <header class="header"></header>
  <main class="main">
    <p style="padding: 0 20px;">但元素比较少时，wrap 需加 min-width:100%，item 比较多时固定的动画时长是不对的。</p>
  </main>
  <footer class="footer">
    <div class="copyright">
      本案例由张永恒实现，<br>
      联系我可通过 <a href="https://github.com/foreverZ133" target="_blank">github</a> / 
      <a href="https://home.cnblogs.com/u/foreverZ/" target="_blank">cnblog</a><br>
      或者 E-mail: <a href="mailto:617754841@qq.com">617754841@qq.com</a>
    </div>
  </footer>
</div>
<script src="https://cdn.bootcss.com/jquery/3.1.0/jquery.min.js"></script>
<script>
var data = new Array(10).fill().map(() => Math.random().toString().slice(-1 * Math.random() * 12 >> 0));
// 创造 .marquee > .wrap*2 > .item*n 的 dom 结构
// 然后 .wrap 只管滑动 100% 皆可完成视觉上的无缝衔接
var html = data.reduce((re, x, i) => re + `<div class="item">${i}:${x}</div>`, '');
var div = document.createElement('div');
div.className = 'marquee';
div.innerHTML = ('<div class="wrap">' + html + '</div>').repeat(2);
document.querySelector('.main').append(div);
</script>
</body>
</html>
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no" />
<meta name="renderer" content="webkit">
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<meta name="format-detection" content="telephone=no" />
<title>首页</title>
<!--[if lt IE 9]><script>alert('您的浏览器版本过低，请更新本版本浏览器，或更换为诸如谷歌浏览器的现代浏览器')</script><![endif]-->
<style>
label > [type="checkbox"] {
  position: absolute;
  left: -9999px;
}
.box {
  counter-reset: characters;
}
.checkbox-input:checked {
  counter-increment: characters;
}
.output:after {
  content: counter(characters);
}

.checkbox-babel {
  padding: .5rem 1rem;
  display: inline-block;
  border: 3px solid darkred;
  border-radius: 10px;
  margin: .5rem .5rem;
}
.checkbox-input:checked + .checkbox-babel {
  box-shadow: inset 0 0 1rem pink;
  background: rgba(255, 255, 0, 1);
}
.output {
  margin: 1rem 0;
  background: lightgrey;
  padding: 1rem 1.5rem;
}

.p-list ul {
  counter-reset: wangxiaoer;
  padding-left: 20px;
  margin: 0;
  list-style: none;
}
.p-list li:before {
  content: counters(wangxiaoer, '-') '. '; 
  counter-increment: wangxiaoer;
}

.exchange ul {
  display: flex;
  flex-direction: column;
  counter-reset: exchange;
}
.exchange li:first-child {
  order: 99;
}
.exchange li:before {
  content: counter(exchange);
  counter-increment: exchange;
}
</style>
</head>

<body>
<div class="box">
  <p>利用 content 的 counter() 特性实现纯 CSS 的累加器。</p>
  <label class="checkbox">
    <input type="checkbox" class="checkbox-input">
    <span class="checkbox-babel">选项1</span>
  </label>
  <label class="checkbox">
    <input type="checkbox" class="checkbox-input">
    <span class="checkbox-babel">选项2</span>
  </label>
  <label class="checkbox">
    <input type="checkbox" class="checkbox-input">
    <span class="checkbox-babel">选项2</span>
  </label>
  <label class="checkbox">
    <input type="checkbox" class="checkbox-input">
    <span class="checkbox-babel">选项2</span>
  </label>
  <div class="output">Total：</div>
</div>
<div class="p-list">
  <p>多层 counters() 的自动化计算。</p>
  <ul>
    <li>
      <span>我是王小二</span>
      <ul>
        <li><span>我是王小二的大儿子</span></li>
        <li>
          <span>我是王小二的二儿子</span>
          <ul>
            <li><span>我是王小二的二儿子的大孙子</span></li>
            <li><span>我是王小二的二儿子的二孙子</span></li>
            <li><span>我是王小二的二儿子的小孙子</span></li>
          </ul>
        </li>
        <li><span>我是王小二的三儿子</span></li>
      </ul>
    </li>
    <li><span>我是王小三</span></li>
    <li>
      <span>我是王小四</span>
      <ul>
        <li><span>我是王小四的大儿子</span></li>
      </ul>
    </li>
  </ul>
</div>
<div class="exchange">
  <p>如果我用 order 变换位置还是随 dom 位置进行计数。</p>
  <ul>
    <li>内容，加了 order: 99</li>
    <li>内容</li>
  </ul>
</div>
<script src="https://cdn.bootcss.com/jquery/3.1.0/jquery.min.js"></script>
<script>
</script>
</body>
</html>
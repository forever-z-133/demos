<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
<meta charset="utf-8" />
<meta name="renderer" content="webkit">
<meta http-equiv="Content-Type" content="text/html" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no" />
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<meta name="format-detection" content="telephone=no" />
<meta name="wap-font-scale" content="no">
<title>首页</title>
<!--[if lt IE 9]><script>alert('您的浏览器版本过低，请更新本版本浏览器，或更换为诸如谷歌浏览器的现代浏览器')</script><![endif]-->
<script>window.onload = function () {if (!/test/i.test(location.search)) return; var script = document.createElement('script'); script.src="https://cdn.bootcss.com/eruda/1.2.6/eruda.min.js"; document.body.appendChild(script); script.onload = function () { eruda.init() } };</script>
<style>
</style>
</head>

<body>
<div id="app">
	<button @click='fullscreen'>{{open ? '关闭全屏' : '打开全屏'}}</button>
</div>
<script src="https://cdn.bootcss.com/vue/2.5.16/vue.min.js"></script>
<script>
var doc = document, de = doc.documentElement;
de.requestFullScreen = de.requestFullscreen || de.webkitRequestFullScreen || de.mozRequestFullScreen || de.msRequestFullscreen || de.oRequestFullscreen;
doc.cancelFullScreen = doc.exitFullscreen || doc.webkitCancelFullScreen || doc.mozCancelFullScreen || doc.msExitFullscreen;

new Vue({
	el: '#app',
	data: {
		open: false,
	},
	mounted: function() {
		document.addEventListener("fullscreenchange", this.fullscreenchange, false);
		document.addEventListener("webkitfullscreenchange", this.fullscreenchange, false);
		document.addEventListener("mozfullscreenchange", this.fullscreenchange, false);
	},
	methods: {
		fullscreen: function() {
			if (this.open) {
				document.cancelFullScreen();
				this.open = false;
			} else {
				document.documentElement.requestFullScreen();
				this.open = true;
			}
		},
		fullscreenchange: function() {
			doc.fullscreen = doc.isfullscreen || doc.webkitIsFullScreen || doc.mozIsFullScreen || doc.msIsFullscreenElement || false;
			this.open = document.fullscreen;
			console.log(document.fullscreen);
		},
	}
})
</script>
</body>
</html>